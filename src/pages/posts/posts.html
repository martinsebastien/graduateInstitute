<ion-content>

  <gi-header></gi-header>

  <div *ngIf="pinnedPosts.length">

    <h3>Pinned Articles</h3>

    <ion-list>

      <ion-item *ngFor="let post of pinnedPosts" class="pinned">
        <ion-thumbnail item-left class="thumb">
          <img [src]="post.thumbnail.src" [alt]="post.thumbnail.alt" />
        </ion-thumbnail>
        <h2>{{post.title}}</h2>
        <h4>{{convertDate(post.date)}}</h4>
        <button ion-button clear item-right><ion-icon name="md-list" class="iconSpace"></ion-icon>MORE</button>
      </ion-item>

    </ion-list>

  </div>

  <div *ngIf="posts.length">

    <h3>All articles</h3>
    <ion-card *ngFor="let post of posts">
      <img *ngIf="post.thumbnail" [src]="post.thumbnail.src" alt="" />
      <img *ngIf="post.video" [src]="post.video.src" alt="" />

      <ion-card-content>
        <ion-card-title [innerHtml]="post.title"></ion-card-title>
        <h4 class="dateTitleArticles">{{convertDate(post.date)}}</h4>
        <ion-card-content class="noPadding" [innerHtml]="post.content"></ion-card-content>
      </ion-card-content>

      <ion-row>
        <!-- Author -->
        <ion-col *ngIf="post.author">
          <ion-item (click)="presentAuthorInformation(post.author)" class="authorInfo">
            <ion-avatar item-left>
              <img [src]="post.author.avatar" class="avatar" />
            </ion-avatar>
            <h5>Posted by</h5>
            <p>{{post.author.name}}, {{post.author.description}}</p>
            <h5>Categories</h5>
            <p>{{categories(post.categories)}}</p>
          </ion-item>
        </ion-col>
      </ion-row>

    </ion-card>

    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>

  </div>

  <div *ngIf="!posts.length">
    <ion-card>
      <ion-card-content>
        <p>No article found</p>
      </ion-card-content>
    </ion-card>
  </div>

</ion-content>
